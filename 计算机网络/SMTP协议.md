# SMTP协议



**SMTP**（Simple Mail Transfer Protocol，简单邮件传输协议）定义了邮件客户端与SMTP服务器之间，以及两台SMTP服务器之间发送邮件的通信规则 。SMTP协议属于TCP/IP协议族，通信双方采用一问一答的命令/响应形式进行对话，且定了对话的规则和所有命令/响应的语法格式。 



**SMTP服务器端口号25之间的TCP连接**

![img](https://img-blog.csdn.net/20161113152328178?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)



一般情况下，一封邮件的发送和接收过程如下。

1) 发信人在用户代理里编辑邮件，包括填写发信人邮箱、收信人邮箱和邮件标题等等。

2) 用户代理提取发信人编辑的信息，生成一封符合邮件格式标准（RFC822）的邮件。

3) 用户代理用SMTP将邮件发送到发送端邮件服务器（即发信人邮箱所对应的邮件服务器）。

4) 发送端邮件服务器用SMTP将邮件发送到接收端邮件服务器（即收信人邮箱所对应的邮件服务器）。

5) 收信人调用用户代理。用户代理用POP3协议从接收端邮件服务器取回邮件。

6) 用户代理解析收到的邮件，以适当的形式呈现在收信人面前。
